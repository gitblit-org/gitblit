<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"  
      xmlns:wicket="http://wicket.apache.org/dtds.data/wicket-xhtml1.3-strict.dtd"  
      xml:lang="en"  
      lang="en"> 

<body>
<wicket:extend>

<!-- HEADER -->
<div style="border: 1px solid #ddd;background-color:#fbfbfb;margin:0px 0px 10px;padding: 8px 10px;">
	<a class="ticket-number" wicket:id="ticketNumber"></a>
	<div style="display:inline-block;padding: 0px 10px;"><span wicket:id="headerStatus"></span></div>	
	<div style="display:inline-block;" class="ticket-title"><span wicket:id="ticketTitle">[ticket title]</span></div>
	<div class="hidden-phone hidden-tablet pull-right"><div wicket:id="diffstat"></div></div>
</div>

<!-- TAB NAMES -->
<ul class="nav nav-tabs hidden-phone">
	<li class="active"><a data-toggle="tab" href="#discussion">
		<i style="color:#888;"class="fa fa-comments"></i> <wicket:message key="gb.discussion"></wicket:message> <span class="lwbadge" wicket:id="commentCount"></span></a>
	</li>
	<li><a data-toggle="tab" href="#commits">
		<i style="color:#888;"class="fa fa-code"></i> <wicket:message key="gb.commits"></wicket:message> <span class="lwbadge" wicket:id="commitCount"></span></a>
	</li>
	<li><a data-toggle="tab" href="#history">
		<i style="color:#888;"class="fa fa-clock-o"></i> <wicket:message key="gb.history"></wicket:message></a>
	</li>
</ul>
	
<!-- TABS -->
<div class="tab-content">
		
	<!-- DISCUSSION TAB -->
	<div class="tab-pane active" id="discussion">
		<div class="row">
				
			<!-- LEFT SIDE -->
			<div class="span8">		
				<div class="ticket-meta-middle">
					<!-- creator -->
					<span class="attribution-emphasize" wicket:id="whoCreated">[someone]</span><span wicket:id="creationMessage" class="attribution-text" style="padding: 0px 3px;">[created this ticket]</span> <span class="attribution-emphasize" wicket:id="whenCreated">[when created]</span>
				</div>
				<div class="ticket-meta-bottom"">
					<div class="ticket-text markdown" wicket:id="ticketDescription">[description]</div>
				</div>
				
				<!-- COMMENTS and STATUS CHANGES (DISCUSSIONS TAB) -->
				<h3 style="padding-top:10px;"><wicket:message key="gb.comments"></wicket:message></h3>
				<div wicket:id="discussion">
					<div style="padding: 10px 0px;" wicket:id="entry"></div>
				</div>
		
		
				<!-- ADD COMMENT (DISCUSSIONS TAB) -->
				<div wicket:id="newComment"></div>
			</div>

			<!-- RIGHT SIDE -->	
			<div class="span4 hidden-phone">
				<div class="status-display" style="padding-bottom: 5px;">
					<div wicket:id="ticketStatus" style="display:block;padding: 5px 10px 10px;">[ticket status]</div>
				</div>		
				<div wicket:id="labels" style="border-top: 1px solid #ccc;padding: 5px 0px;">
					<span class="label ticketLabel" wicket:id="label">[label]</span>
				</div>
				
				<div wicket:id="controls"></div>
				
				<div style="border: 1px solid #ccc;padding: 10px;margin: 5px 0px;">
					<table class="summary" style="width: 100%">
						<tr><th><wicket:message key="gb.type"></wicket:message></th><td><span wicket:id="ticketType">[type]</span></td></tr>
						<tr><th><wicket:message key="gb.topic"></wicket:message></th><td><span wicket:id="ticketTopic">[topic]</span></td></tr>
						<tr><th><wicket:message key="gb.responsible"></wicket:message></th><td><span wicket:id="responsible">[responsible]</span></td></tr>
						<tr><th><wicket:message key="gb.milestone"></wicket:message></th><td><span wicket:id="milestone">[milestone]</span></td></tr>
						<tr><th><wicket:message key="gb.votes"></wicket:message></th><td><span wicket:id="votes" class="badge">1</span> <a style="padding-left:5px" wicket:id="voteLink" href="#">vote</a></td></tr>
						<tr><th><wicket:message key="gb.watchers"></wicket:message></th><td><span wicket:id="watchers" class="badge">1</span> <a style="padding-left:5px" wicket:id="watchLink" href="#">watch</a></td></tr>
						<tr><th><wicket:message key="gb.export"></wicket:message></th><td><a rel="nofollow" target="_blank" wicket:id="exportJson"></a></td></tr>
						
					</table>
				</div>
				
				<div>
					<span class="attribution-text" wicket:id="participantsLabel"></span>
					<span wicket:id="participants"><span style="padding: 0px 2px;" wicket:id="participant"></span></span>
				</div>
			</div>
		</div>		
		
	</div>
	
	
	<!-- COMMITS TAB -->
	<div class="tab-pane" id="commits">
		<div wicket:id="patchset"></div>
	</div>
	
	
	<!-- HISTORY TAB -->
	<div class="tab-pane hidden-phone" id="history">
		<div wicket:id="history"></div>	
	</div>
	
</div> <!-- END TABS -->


<!-- MILESTONE PROGRESS FRAGMENT -->
<wicket:fragment wicket:id="milestoneProgressFragment">
	<div style="display:inline-block;padding-right: 10px" wicket:id="link"></div>
	<div style="display:inline-block;margin-bottom: 0px;width: 100px;height:10px;" class="progress progress-success">
		<div class="bar" wicket:id="progress"></div>
	</div>	
</wicket:fragment>


<!-- TICKET CONTROLS FRAGMENT -->
<wicket:fragment wicket:id="controlsFragment">
	<div class="hidden-phone hidden-tablet">
		<div class="btn-group" style="display:inline-block;">
			<a class="btn dropdown-toggle" data-toggle="dropdown" href="#"><wicket:message key="gb.status"></wicket:message> <span class="caret"></span></a>
			<ul class="dropdown-menu">
				<li wicket:id="newStatus"><a wicket:id="link">[status]</a></li>    						
			</ul>
			
			<a class="btn" href="#"><wicket:message key="gb.responsible"></wicket:message> <span class="caret"></span></a>

			<a class="btn" href="#"><wicket:message key="gb.milestone"></wicket:message> <span class="caret"></span></a>
			
			<a class="btn">edit</a>
							
		</div>
	</div>
</wicket:fragment>


<!-- STATUS INDICATOR FRAGMENT -->
<wicket:fragment wicket:id="ticketStatusFragment">
	<div style="font-size:2.5em;padding-bottom: 5px;">
		<i wicket:id="ticketIcon">[ticket type]</i>
	</div>
	<div style="font-size:1.5em;" wicket:id="ticketStatus">[ticket status]</div>	
</wicket:fragment>


<!-- NEW COMMENT FRAGMENT -->
<wicket:fragment wicket:id="newCommentFragment">
	<div class="row">
		<div class="span8">
			<hr/>
		</div>
	</div>
	
	<h3 style="padding:0px 0px 10px;"><wicket:message key="gb.addComment"></wicket:message></h3>
	
	<div class="row">
		<div class="span1 hidden-phone">
			<span wicket:id="newCommentAvatar">[avatar]</span>
		</div>
		<div class="span7 attribution-border" style="background-color:#fbfbfb;">
			<div class="hidden-phone attribution-triangle"></div>
			<div wicket:id="commentPanel"></div>
		</div>	
	</div>
</wicket:fragment>


<!-- COMMENT FRAGMENT -->
<wicket:fragment wicket:id="commentFragment">
<div class="row">
	<div class="span1 hidden-phone" style="text-align:right;">
		<span wicket:id="changeAvatar">[avatar]</span>
	</div>
	<div class="span7 attribution-border">
		<div class="hidden-phone attribution-triangle"></div>
		<div class="attribution-header">
			 <span class="indicator-large-dark"><i wicket:id="commentIcon"></i></span><span class="attribution-emphasize" wicket:id="changeAuthor">[author]</span> <span class="attribution-text"><span class="hidden-phone"><wicket:message key="gb.commented">[commented]</wicket:message></span></span><p class="attribution-header-pullright" ><span class="attribution-date" wicket:id="changeDate">[comment date]</span><a class="attribution-link" wicket:id="changeLink"><i class="iconic-link"></i></a></p>
		</div>
		<div class="markdown">
			<div class="attribution-comment ticket-text" wicket:id="comment">[comment text]</div>
		</div>
	</div>
</div>
</wicket:fragment>


<!-- STATUS CHANGE FRAGMENT -->
<wicket:fragment wicket:id="statusFragment">
<div class="row" style="opacity: 0.5;filter: alpha(opacity=50);">
	<div class="span7 offset1">		
		<div style="padding: 8px;border: 1px solid translucent;">
			 <span class="indicator-large-dark"><i></i></span><span class="attribution-emphasize" wicket:id="changeAuthor">[author]</span> <span class="attribution-text"><span class="hidden-phone"><wicket:message key="gb.changedStatus">[changed status]</wicket:message></span></span> <span style="padding-left:10px;"><span wicket:id="statusChange"></span></span><p class="attribution-header-pullright" ><span class="attribution-date" wicket:id="changeDate">[comment date]</span><a class="attribution-link" wicket:id="changeLink"><i class="iconic-link"></i></a></p>
		</div>
	</div>		
</div>
</wicket:fragment>


<!-- BOUNDARY FRAGMENT -->
<wicket:fragment wicket:id="boundaryFragment">
<div class="row" style="padding: 15px 0px 10px 0px;">
	<div class="span7 offset1" style="border-top: 2px dotted #999;" />
</div>
</wicket:fragment>


<!-- MERGE/CLOSE FRAGMENT -->
<wicket:fragment wicket:id="mergeCloseFragment">
<div wicket:id="merge" style="padding-top: 10px;"></div>	
<div wicket:id="close"></div>
<div wicket:id="boundary"></div>
</wicket:fragment>


<!-- MERGE FRAGMENT -->
<wicket:fragment wicket:id="mergeFragment">
<div class="row">
	<div class="span7 offset1">
		<span class="status-change aui-lozenge aui-lozenge-success"><wicket:message key="gb.merged"></wicket:message></span>
		<span class="attribution-emphasize" wicket:id="changeAuthor">[author]</span> <span class="attribution-text"><wicket:message key="gb.pushedPatchset">[pushed patchset]</wicket:message></span>
		<span class="attribution-emphasize" wicket:id="commitLink">[commit]</span> <span style="padding-left:2px;" wicket:id="toBranch"></span>
		<p class="attribution-pullright"><span class="attribution-date" wicket:id="changeDate">[change date]</span></p>
	</div>
</div>
</wicket:fragment>


<!-- CLOSE FRAGMENT -->
<wicket:fragment wicket:id="closeFragment">
<div class="row" style="padding-top:5px;">
	<div class="span7 offset1">
		<span class="status-change aui-lozenge"><wicket:message key="gb.closed"></wicket:message></span>
		<span class="attribution-emphasize" wicket:id="changeAuthor">[author]</span> <span class="attribution-text"><wicket:message key="gb.closedTicket">[closed ticket]</wicket:message></span>
		<p class="attribution-pullright"><span class="attribution-date" wicket:id="changeDate">[change date]</span></p>
	</div>	
</div>
</wicket:fragment>


<!-- PROPOSE A PATCHSET FRAGMENT -->
<wicket:fragment wicket:id="proposeFragment">
	<div class="featureWelcome">
		<div class="row">
			<div class="icon span2"><i class="fa fa-code"></i></div>
			<div class="span9">		
				<h1><wicket:message key="gb.proposePatchset"></wicket:message></h1>
				<div class="markdown">
					<p><wicket:message key="gb.proposePatchsetNote"></wicket:message></p>
					<p><span wicket:id="proposeInstructions"></span></p>
					<b><span wicket:id="barnumWorkflow"></span></b>
					<div wicket:id="barnumWorkflowSteps"></div>
					<b><span wicket:id="gitWorkflow"></span></b>
					<div wicket:id="gitWorkflowSteps"></div>
				</div>			
			</div>
		</div>
	</div>
</wicket:fragment>


<!-- PATCHSET FRAGMENT -->
<wicket:fragment wicket:id="patchsetFragment">
	<h3><wicket:message key="gb.currentRevision"></wicket:message></h3>
	<div class="row" style="padding: 10px 0px 20px;">
		<div class="span1 hidden-phone" style="text-align:right;">
			<span wicket:id="changeAvatar">[avatar]</span>
		</div>
 		<div class="span11 attribution-border" style="margin-left: 15px;">
			<div class="hidden-phone attribution-triangle"></div>
			<div wicket:id="panel"></div>		
		</div>
	</div>

	<h3><wicket:message key="gb.commits"></wicket:message></h3>
	<div class="row">
		<div class="span12">
			<table class="table tickets">
				<thead>
					<tr>
						<th><wicket:message key="gb.author"></wicket:message></th>
						<th ><wicket:message key="gb.commit"></wicket:message></th>						
						<th colspan="2"><wicket:message key="gb.title"></wicket:message></th>		
						<th style="text-align: right;"><wicket:message key="gb.date"></wicket:message></th>
					</tr>
				</thead>
				<tbody>
					<tr wicket:id="commit">
						<td><span wicket:id="authorAvatar">[avatar]</span> <span wicket:id="author">[author]</span></td>
						<td><span class="shortsha1" wicket:id="commitId">[commit id]</span><span style="padding-left: 20px;" wicket:id="diff">[diff]</span></td>						
						<td><span class="attribution-text" wicket:id="title">[title]</span></td>
						<td style="padding:8px 0px;text-align:right;"><span style="padding-right:40px;"><span wicket:id="commitDiffStat"></span></span></td>			
						<td style="text-align:right;"><span class="attribution-date" wicket:id="commitDate">[commit date]</span></td>	
					</tr>
				</tbody>
			</table>
		</div>	
	</div>
</wicket:fragment>


<!--HISTORY -->
<wicket:fragment wicket:id="historyFragment">	
	<table class="table tickets">
		<thead>
			<tr>
				<th><wicket:message key="gb.author"></wicket:message></th>
				<th colspan='6'><wicket:message key="gb.action"></wicket:message></th>		
				<th style="text-align: right;"><wicket:message key="gb.date"></wicket:message></th>
			</tr>
		</thead>
		<tbody>
			<tr wicket:id="event">
				<td><span wicket:id="changeAvatar">[avatar]</span> <span class="attribution-emphasize" wicket:id="changeAuthor">[author]</span></td>
				<td><span class="attribution-text"><span wicket:id="what">[what happened]</span></span></td>
				<td><span wicket:id="patchsetRevision">[revision id]</span></td>
				<td><span class="hidden-tablet hidden-phone" wicket:id="mergeBase">[merge base]</span></td>
				<td><span wicket:id="patchsetType"></span></td>
				<td><span wicket:id="revisedStatus"></span></td>
				<td><span class="hidden-tablet hidden-phone" style="padding-left:20px;"><span wicket:id="patchsetDiffStat"></span></span></td>			
				<td style="text-align:right;"><span class="attribution-date" wicket:id="changeDate">[patch date]</span></td>	
			</tr>
		</tbody>
	</table>
</wicket:fragment>


<!-- MERGEABLE PATCHSET FRAGMENT -->
<wicket:fragment wicket:id="mergeableFragment">
	<div class="alert alert-success submit-info" style="padding:4px;">
		<div class="merge-panel">
			<div class="pull-right" style="padding-top:5px;">
				<a class="btn btn-success" wicket:id="mergeButton">
					<wicket:message key="gb.merge"></wicket:message>
				</a>
			</div>
			<h4><i class="fa fa-check-circle"></i> <span wicket:id="mergeTitle"></span></h4>
			<div wicket:id="mergeMore"></div>
		</div>
	</div>
</wicket:fragment>


<!-- COMMAND LINE MERGE INSTRUCTIONS -->
<wicket:fragment wicket:id="commandlineMergeFragment">
	<div class="accordion" id="accordionInstructions" style="margin: 0px;">
		<span wicket:id="instructions"></span>
		<a wicket:message="title:gb.showHideDetails" data-toggle="collapse" data-parent="#accordionInstructions" href="#bodyInstructions"><i class="fa fa-toggle-down"></i></a>
	</div>

	<div id="bodyInstructions" class="ticket-text accordion-body collapse" style="clear:both;">
		<hr/>
		<h4><wicket:message key="gb.mergingViaCommandLine">Merging via command line</wicket:message></h4>	
		<p><wicket:message key="gb.mergingViaCommandLineNote">If you do not want to use the merge button or an automatic merge cannot be performed, you can perform a manual merge on the command line.</wicket:message></p>
		<p class="step">
			<b>Step 1:</b> <wicket:message key="gb.mergeStep1">Check out a new branch to test the changes — run this from your project directory</wicket:message> <span wicket:id="copyStep1"></span>
		</p>
		<pre wicket:id="step1" class="gitcommand">step1</pre>
		<p class="step">
			<b>Step 2:</b> <wicket:message key="gb.mergeStep2">Bring in the proposed changes and test</wicket:message> <span wicket:id="copyStep2"></span>
		</p>
		<pre wicket:id="step2" class="gitcommand">step2</pre>
		<p class="step">
			<b>Step 3:</b> <wicket:message key="gb.mergeStep3">Merge the changes and update the server</wicket:message> <span wicket:id="copyStep3"></span>
		</p>
		<pre wicket:id="step3" class="gitcommand">step3</pre>
	</div>		
</wicket:fragment>


<!-- NOT-MERGEABLE FRAGMENT -->
<wicket:fragment wicket:id="notMergeableFragment">
	<div class="alert alert-error submit-info" style="padding:4px;">
		<div class="merge-panel">
			<h4><i class="fa fa-exclamation-triangle"></i> <span wicket:id="mergeTitle"></span></h4>
			<div wicket:id="mergeMore"></div>
		</div>
	</div>
</wicket:fragment>


<!-- VETOED PATCHSET FRAGMENT -->
<wicket:fragment wicket:id="vetoedFragment">
	<div class="alert alert-error submit-info" style="padding:4px;">
		<div class="merge-panel">
			<h4><i class="fa fa-exclamation-circle"></i> <span wicket:id="mergeTitle"></span></h4>
			<wicket:message key="gb.patchsetVetoedMore"></wicket:message>
		</div>
	</div>
</wicket:fragment>


<!-- NOT APPROVED PATCHSET FRAGMENT -->
<wicket:fragment wicket:id="notApprovedFragment">
	<div class="alert alert-info submit-info" style="padding:4px;">
		<div class="merge-panel">
			<h4><i class="fa fa-minus-circle"></i> <span wicket:id="mergeTitle"></span></h4>
			<div wicket:id="mergeMore"></div>			
		</div>
	</div>
</wicket:fragment>


<!-- Plain JavaScript manual copy & paste -->
<wicket:fragment wicket:id="jsPanel">
  	<span style="vertical-align:baseline;">
  		<img wicket:id="copyIcon" wicket:message="title:gb.copyToClipboard"></img>
  	</span>
</wicket:fragment>
    

<!-- flash-based button-press copy & paste -->
<wicket:fragment wicket:id="clippyPanel">
	<object wicket:message="title:gb.copyToClipboard" style="vertical-align:middle;"
   			wicket:id="clippy"
   			width="14" 
   			height="14"
   			bgcolor="#ffffff" 
       		quality="high"
       		wmode="transparent"
       		scale="noscale"
       		allowScriptAccess="always"></object>
</wicket:fragment>
	
</wicket:extend>    
</body>
</html>