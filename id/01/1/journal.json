[{"date":"2014-01-13T03:55:39Z","author":"james","fields":{"title":"Tickets module with patchset contributions","body":"A basic issue tracker styled as a hybrid of Github and Bitbucket issues.\nYou may attach commits to an existing ticket or you can push a single\ncommit to create a *proposal* ticket.  The title and body of the commit\nmessage become the subject and description of the proposal ticket.\n\nTicket tracker\n--------------\n\nThe ticket tracker stores tickets as an append-only JSON journal in an\norphan branch within each repository.  The journals are deserialized,\nand a ticket is built by applying the journal entries.  Tickets are\nindexed using Apache Lucene and all queries and searches are executed\nagainst this Lucene index.\n\nThere is one trade-off to this persistence design: it is non-relational.\n\nWhat does that mean?  Gitblit stores user accounts within it\u0027s simple\n`users.conf` file.  Users are identified by their username.  The\nusername is also the attribution hard-coded into each journal entry\n(patchset revision, field changes, comment, etc).  If the username\nchanges in `users.conf`, the ticket data will not reflect that because\nit is non-relational.\n\nHere are a few reasons/justifications for this design choice:\n\n1. commit identifications (author, committer, tagger) are non-relational\n2. allows meaningful and complete ticket data to be distributed with the\nrepository\n3. your favorite text editor can still be your administration tool\n\nThis combination of technologies allows Gitblit to continue to operate\nwithout introducing an external persistence technology such as an SQL\ndatabase or a NoSQL store.\n\nHaving said that, the backend to the ticket tracker is pluggable and\nthere is a mostly complete Redis backend as a proof-of-concept.  For\nthose inclined, it should be relatively straight-forward to develop\nother backends (H2, MongoDB, etc) as long as the journal design is\npreserved.\n\nPushing Commits\n---------------\n\nEach push to a ticket is identified as a patchset revision and flagged\nwith a revision ref.  A patchset revision may build on the previous\npatchsets (traditional fast-forward push) OR a patchset revision may\nrewrite history (rebase, squash, rebase+squash, or amend).  Patchset\nauthors should not be afraid to polish, revise, and rewrite their code\nbefore merging into the proposed branch.\n\nGitblit will create n+1 refs for each ticket, where n is the patchset\nrevision count.  These refs are `refs/ticket/{id}`, which are typically\nused for pushing and pulling, and`refs/changes/{x}/{id}/{rev}` which\nmark each pushed patchset revision.\n\n**Normal collaboration workflow**\n\nPatchsets for existing tickets should be pushed to: `refs/tickets/{id}`\nwhere id is the integer ticket id.\n\n    git push origin HEAD:refs/tickets/123\n\n**Proposing a new change**\n\nYou may also create a new change proposal ticket just by pushing a\n**single commit** to `refs/for/{branch}` where branch is the proposed\nintegration branch OR `refs/for/default` which specifies the default\nintegration branch configured for the repository.\n\n    git push origin HEAD:refs/for/default\n\n**Rebasing, Squashing, Amending**\n\nGitblit makes rebasing, squashing, and amending patchsets easy.  Because\nGitblit tracks the current patchset revision with `refs/ticket/{id}`,\npushing to that commit may result in a failure if a new revision is a\nnon-fast-forward push.  Only user\u0027s with (rewind) RW+ permission to the\nrepository can push a non-fast-forward update to `refs/tickets/{id}`.\n\nThere is an alternate ref that can be used by one of the patchset\nauthors or repository users with write (RW) access which will allow them\nto rewrite a patchset.\n\n    git push origin HEAD:refs/for/{id}","status":"New","type":"Proposal","mergeTo":"master"},"patchset":{"number":1,"rev":1,"tip":"26dba6c9e7067f62b702ac5ade4a401c252adda1","base":"814e248354ed9b234c59e3470ef363f705bf711a","insertions":12009,"deletions":281,"commits":1,"added":0,"type":"Proposal"}},{"date":"2014-01-13T03:57:42Z","author":"james","patchset":{"number":1,"rev":2,"tip":"cd3c6505dfe3f227a580ca92084a066cef381c51","parent":"26dba6c9e7067f62b702ac5ade4a401c252adda1","base":"814e248354ed9b234c59e3470ef363f705bf711a","insertions":10,"deletions":0,"commits":2,"added":1,"type":"FastForward"}},{"date":"2014-01-13T18:02:10Z","author":"james","fields":{"milestone":"v1.4.0","responsible":"james"},"patchset":{"number":1,"rev":3,"tip":"a4fd2bd397060af39935eb26296975bd60303e60","parent":"cd3c6505dfe3f227a580ca92084a066cef381c51","base":"814e248354ed9b234c59e3470ef363f705bf711a","insertions":195,"deletions":108,"commits":3,"added":1,"type":"FastForward"}},{"date":"2014-01-13T22:41:43Z","author":"james","patchset":{"number":1,"rev":4,"tip":"690f4d6bfe5a8ad3fd97dd066636401dc47324e7","parent":"a4fd2bd397060af39935eb26296975bd60303e60","base":"814e248354ed9b234c59e3470ef363f705bf711a","insertions":351,"deletions":225,"commits":4,"added":1,"type":"FastForward"}},{"date":"2014-01-14T05:00:43Z","author":"james","fields":{"watchers":"+james"},"patchset":{"number":1,"rev":5,"tip":"4a5b1874d5fdd90a8400c625bc3439cc5b842a36","parent":"690f4d6bfe5a8ad3fd97dd066636401dc47324e7","base":"814e248354ed9b234c59e3470ef363f705bf711a","insertions":165,"deletions":20,"commits":5,"added":1,"type":"FastForward"}},{"date":"2014-01-15T14:15:35Z","author":"james","patchset":{"number":1,"rev":6,"tip":"9a53702f62346f8009c1b57235a9709a30797d92","parent":"4a5b1874d5fdd90a8400c625bc3439cc5b842a36","base":"814e248354ed9b234c59e3470ef363f705bf711a","insertions":265,"deletions":140,"commits":6,"added":1,"type":"FastForward"}},{"date":"2014-01-15T15:10:12Z","author":"james","patchset":{"number":2,"rev":1,"tip":"c2e2004e917867d9768bfd6935d71af507107eeb","base":"814e248354ed9b234c59e3470ef363f705bf711a","insertions":12486,"deletions":283,"commits":6,"added":0,"type":"Amend"}},{"date":"2014-01-15T15:43:03Z","author":"james","patchset":{"number":2,"rev":2,"tip":"94d11fbb4a674d200a95231acad657ba0020fbc3","parent":"c2e2004e917867d9768bfd6935d71af507107eeb","base":"814e248354ed9b234c59e3470ef363f705bf711a","insertions":26,"deletions":16,"commits":7,"added":1,"type":"FastForward"}},{"date":"2014-01-15T16:00:04Z","author":"james","patchset":{"number":3,"rev":1,"tip":"b01e41dfe6fceed12c777ec680dcfd4c440a4c63","base":"21ca9d90c6f3b29e4574fe143bbfa7e0ef0b0514","insertions":12498,"deletions":283,"commits":6,"added":0,"type":"Rebase_Squash"}},{"date":"2014-01-15T21:15:50Z","author":"james","patchset":{"number":4,"rev":1,"tip":"3325290dd49f94b1fcb4f6465bb25443a6ead2c5","base":"21ca9d90c6f3b29e4574fe143bbfa7e0ef0b0514","insertions":12529,"deletions":283,"commits":6,"added":0,"type":"Amend"}},{"date":"2014-01-16T05:02:24Z","author":"james","patchset":{"number":4,"rev":2,"tip":"7dd574f0d812dc8119b439f7553cb616fe9a462a","parent":"3325290dd49f94b1fcb4f6465bb25443a6ead2c5","base":"21ca9d90c6f3b29e4574fe143bbfa7e0ef0b0514","insertions":151,"deletions":99,"commits":7,"added":1,"type":"FastForward"}},{"date":"2014-01-17T15:05:39Z","author":"james","patchset":{"number":4,"rev":3,"tip":"f38919686d0cb4a566f231a484a86f1847cfb2ae","parent":"7dd574f0d812dc8119b439f7553cb616fe9a462a","base":"21ca9d90c6f3b29e4574fe143bbfa7e0ef0b0514","insertions":47,"deletions":15,"commits":10,"added":3,"type":"FastForward"}},{"date":"2014-01-19T01:01:23Z","author":"james","patchset":{"number":4,"rev":4,"tip":"e108fdc2cbd17269d54489763f82e1837fff4cfc","parent":"f38919686d0cb4a566f231a484a86f1847cfb2ae","base":"21ca9d90c6f3b29e4574fe143bbfa7e0ef0b0514","insertions":547,"deletions":424,"commits":15,"added":5,"type":"FastForward"}},{"date":"2014-01-20T18:47:52Z","author":"james","patchset":{"number":4,"rev":5,"tip":"df055a99c72b0fd3055da5169df425915aebb76e","parent":"e108fdc2cbd17269d54489763f82e1837fff4cfc","base":"21ca9d90c6f3b29e4574fe143bbfa7e0ef0b0514","insertions":279,"deletions":169,"commits":20,"added":5,"type":"FastForward"}},{"date":"2014-01-20T19:14:42Z","author":"james","patchset":{"number":5,"rev":1,"tip":"b6dcd76adbda409c5d1f795723a9c98428a104a3","base":"21ca9d90c6f3b29e4574fe143bbfa7e0ef0b0514","insertions":12849,"deletions":285,"commits":21,"added":1,"type":"Amend"}},{"date":"2014-01-21T00:05:35Z","author":"james","patchset":{"number":5,"rev":2,"tip":"d866a33c97c43e49e2cb2e1326499bcd558e7341","parent":"b6dcd76adbda409c5d1f795723a9c98428a104a3","base":"21ca9d90c6f3b29e4574fe143bbfa7e0ef0b0514","insertions":286,"deletions":121,"commits":24,"added":3,"type":"FastForward"}},{"date":"2014-01-21T04:20:17Z","author":"james","patchset":{"number":5,"rev":3,"tip":"70e7d72b7db8f632d3a2569d8b0658d99e03e61b","parent":"d866a33c97c43e49e2cb2e1326499bcd558e7341","base":"21ca9d90c6f3b29e4574fe143bbfa7e0ef0b0514","insertions":599,"deletions":49,"commits":27,"added":3,"type":"FastForward"}},{"date":"2014-01-22T05:13:21Z","author":"james","patchset":{"number":5,"rev":4,"tip":"ba215db9e81e635b5eca47162b1890ee0365157b","parent":"70e7d72b7db8f632d3a2569d8b0658d99e03e61b","base":"21ca9d90c6f3b29e4574fe143bbfa7e0ef0b0514","insertions":546,"deletions":642,"commits":29,"added":2,"type":"FastForward"}},{"date":"2014-01-22T22:50:20Z","author":"james","patchset":{"number":5,"rev":5,"tip":"39389e873e97e28598e059729b1084f9db95476c","parent":"ba215db9e81e635b5eca47162b1890ee0365157b","base":"21ca9d90c6f3b29e4574fe143bbfa7e0ef0b0514","insertions":787,"deletions":1227,"commits":33,"added":4,"type":"FastForward"}},{"date":"2014-01-23T17:24:25Z","author":"james","patchset":{"number":5,"rev":6,"tip":"5b739fb89fffa7c1c49f80ca93b2dcf23195e2a6","parent":"39389e873e97e28598e059729b1084f9db95476c","base":"21ca9d90c6f3b29e4574fe143bbfa7e0ef0b0514","insertions":176,"deletions":251,"commits":34,"added":1,"type":"FastForward"}},{"date":"2014-01-23T17:49:31Z","author":"james","patchset":{"number":5,"rev":7,"tip":"1c16f1a1288b6df6a2b9e0a81bf30ff5c92a7c33","parent":"5b739fb89fffa7c1c49f80ca93b2dcf23195e2a6","base":"21ca9d90c6f3b29e4574fe143bbfa7e0ef0b0514","insertions":41,"deletions":2,"commits":36,"added":2,"type":"FastForward"}},{"date":"2014-01-23T17:57:20Z","author":"james","patchset":{"number":5,"rev":8,"tip":"60306e42ed9d78ee211c364c0d2a8ee09a9eeca0","parent":"1c16f1a1288b6df6a2b9e0a81bf30ff5c92a7c33","base":"21ca9d90c6f3b29e4574fe143bbfa7e0ef0b0514","insertions":16,"deletions":2,"commits":37,"added":1,"type":"FastForward"}},{"date":"2014-01-24T01:35:19Z","author":"james","patchset":{"number":5,"rev":9,"tip":"78825a17a0aa1b91d3fd82c321768f4d318cff81","parent":"60306e42ed9d78ee211c364c0d2a8ee09a9eeca0","base":"21ca9d90c6f3b29e4574fe143bbfa7e0ef0b0514","insertions":94,"deletions":88,"commits":38,"added":1,"type":"FastForward"}},{"date":"2014-01-24T01:36:28Z","author":"james","fields":{"status":"Open"}},{"date":"2014-01-24T18:39:13Z","author":"james","patchset":{"number":5,"rev":10,"tip":"4d50b6b32150d1ce8d003d06604a0119e1775b34","parent":"78825a17a0aa1b91d3fd82c321768f4d318cff81","base":"21ca9d90c6f3b29e4574fe143bbfa7e0ef0b0514","insertions":1226,"deletions":356,"commits":42,"added":4,"type":"FastForward"}},{"date":"2014-01-24T22:50:59Z","author":"james","patchset":{"number":5,"rev":11,"tip":"f64c417907fead36b8396771806eb59fc02f03b4","parent":"4d50b6b32150d1ce8d003d06604a0119e1775b34","base":"21ca9d90c6f3b29e4574fe143bbfa7e0ef0b0514","insertions":246,"deletions":315,"commits":46,"added":4,"type":"FastForward"}},{"date":"2014-01-25T02:51:02Z","author":"james","patchset":{"number":5,"rev":12,"tip":"68c0e71adc74c0235eba9cc34c4dc769b5fbbc0f","parent":"f64c417907fead36b8396771806eb59fc02f03b4","base":"21ca9d90c6f3b29e4574fe143bbfa7e0ef0b0514","insertions":85,"deletions":55,"commits":47,"added":1,"type":"FastForward"}},{"date":"2014-01-25T02:59:07Z","author":"james","patchset":{"number":5,"rev":13,"tip":"e50590544ac4d35b74daab1e4da27f6d4033d204","parent":"68c0e71adc74c0235eba9cc34c4dc769b5fbbc0f","base":"21ca9d90c6f3b29e4574fe143bbfa7e0ef0b0514","insertions":1,"deletions":1,"commits":48,"added":1,"type":"FastForward"}},{"date":"2014-01-25T20:58:55Z","author":"james","patchset":{"number":5,"rev":14,"tip":"5317dfa264ce3edbdc1b2052271f38d9cf694422","parent":"e50590544ac4d35b74daab1e4da27f6d4033d204","base":"21ca9d90c6f3b29e4574fe143bbfa7e0ef0b0514","insertions":346,"deletions":8,"commits":49,"added":1,"type":"FastForward"}},{"date":"2014-01-27T04:38:13Z","author":"james","patchset":{"number":5,"rev":15,"tip":"3c5e61a7baf4c9f857b9fe1a4e86126d19ce8720","parent":"5317dfa264ce3edbdc1b2052271f38d9cf694422","base":"21ca9d90c6f3b29e4574fe143bbfa7e0ef0b0514","insertions":470,"deletions":383,"commits":52,"added":3,"type":"FastForward"}},{"date":"2014-01-27T04:51:29Z","author":"james","patchset":{"number":5,"rev":16,"tip":"aaba2bf0d95fff3f35d01d9f75a53a372351c054","parent":"3c5e61a7baf4c9f857b9fe1a4e86126d19ce8720","base":"21ca9d90c6f3b29e4574fe143bbfa7e0ef0b0514","insertions":8,"deletions":3,"commits":53,"added":1,"type":"FastForward"}},{"date":"2014-01-27T15:16:17Z","author":"james","patchset":{"number":5,"rev":17,"tip":"94779e26c70af8e559182ca9467e19a626782816","parent":"aaba2bf0d95fff3f35d01d9f75a53a372351c054","base":"21ca9d90c6f3b29e4574fe143bbfa7e0ef0b0514","insertions":210,"deletions":175,"commits":54,"added":1,"type":"FastForward"}},{"date":"2014-01-27T15:48:03Z","author":"james","patchset":{"number":5,"rev":18,"tip":"adb0ab1990020c2e1970e102a95f24259b26181a","parent":"94779e26c70af8e559182ca9467e19a626782816","base":"21ca9d90c6f3b29e4574fe143bbfa7e0ef0b0514","insertions":31,"deletions":15,"commits":55,"added":1,"type":"FastForward"}},{"date":"2014-01-28T03:48:02Z","author":"james","patchset":{"number":5,"rev":19,"tip":"de9e596d29fe3ee72ed7cce71ba67c4de03d829b","parent":"adb0ab1990020c2e1970e102a95f24259b26181a","base":"21ca9d90c6f3b29e4574fe143bbfa7e0ef0b0514","insertions":423,"deletions":153,"commits":58,"added":3,"type":"FastForward"}},{"date":"2014-01-28T04:23:58Z","author":"james","patchset":{"number":6,"rev":1,"tip":"9f8d019e9379959929bfbab8789174e1f82f91c9","base":"21ca9d90c6f3b29e4574fe143bbfa7e0ef0b0514","insertions":14624,"deletions":315,"commits":1,"added":0,"type":"Squash"}},{"date":"2014-01-28T04:26:36Z","author":"james","fields":{"title":"Ticket tracker with patchset contributions (issue-215)","body":"A basic issue tracker styled as a hybrid of GitHub and BitBucket issues.\r\nYou may attach commits to an existing ticket or you can push a single\r\ncommit to create a *proposal* ticket.\r\n\r\nTickets keep track of patchsets (one or more commits) and allow patchset\r\nrewriting (rebase, amend, squash) by detecing the non-fast-forward\r\nupdate and assigning a new patchset number to the new commits.\r\n\r\nTicket tracker\r\n--------------\r\n\r\nThe ticket tracker stores tickets as an append-only journal of changes.\r\nThe journals are deserialized and a ticket is built by applying the\r\njournal entries.  Tickets are indexed using Apache Lucene and all queries\r\nand searches are executed against this Lucene index.\r\n\r\nThere is one trade-off to this persistence design: user attributions are\r\nnon-relational.\r\n\r\nWhat does that mean?  Each journal entry stores the username of the\r\nauthor.  If the username changes in the user service, the journal entry\r\nwill not reflect that change because the values are hard-coded.\r\n\r\nHere are a few reasons/justifications for this design choice:\r\n\r\n1. commit identifications (author, committer, tagger) are non-relational\r\n2. maintains the KISS principle\r\n3. your favorite text editor can still be your administration tool\r\n\r\nPersistence Choices\r\n-------------------\r\n\r\nFileTicketService - stores journals on the filesystem\r\nBranchTicketService - stores journals on an orphan branch in your repository\r\nRedisTicketService - stores journals in a Redis key-value datastore\r\n\r\nIt should be relatively straight-forward to develop other backends (MongoDB, etc)\r\nas long as the journal design is preserved.\r\n\r\nPushing Commits\r\n---------------\r\n\r\nEach push to a ticket is identified as a patchset revision.  A patchset\r\nrevision may add commits to the patchset (fast-forward) OR a patchset\r\nrevision may rewrite history (rebase, squash, rebase+squash, or amend).\r\nPatchset authors should not be afraid to polish, revise, and rewrite their\r\ncode before merging into the proposed branch.\r\n\r\nGitblit will create one ref for each patchset.  These refs are updated\r\nfor fast-forward pushes or created for rewrites.  They are formatted as\r\n`refs/tickets/{shard}/{id}/{patchset}`.  The *shard*  is the last two\r\ndigits of the id.  If the id \u003c 10, prefix a 0.  The *shard* is always\r\ntwo digits long.  The shard\u0027s purpose is to ensure Gitblit doesn\u0027t exceed\r\nany filesystem directory limits for file creation.\r\n\r\n**Creating a Proposal Ticket**\r\n\r\nYou may create a new change proposal ticket just by pushing a **single commit**\r\nto `refs/for/{branch}` where branch is the proposed integration branch OR\r\n`refs/for/new` or `refs/for/default` which both will use the default repository\r\nbranch.\r\n\r\n    git push origin HEAD:refs/for/new\r\n\r\n**Updating a Patchset**\r\n\r\nThe safe way to update an existing patchset is to push to the patchset ref.\r\n\r\n    git push origin HEAD:refs/tickets/{shard}/{id}/{patchset}\r\n\r\nThis ensures you do not accidentally create a new patchset in the event that\r\nthe patchset was updated after you last pulled.\r\n\r\nThe no-so-safe way to update an existing patchset is to push using the magic ref.\r\n\r\n    git push origin HEAD:refs/for/{id}\r\n\r\nThis push ref will update an exisitng patchset OR create a new patchset if the\r\nupdate is non-fast-forward.\r\n\r\n**Rebasing, Squashing, Amending**\r\n\r\nGitblit makes rebasing, squashing, and amending patchsets easy.\r\n\r\nNormally, pushing a non-fast-forward update would require rewind (RW+)\r\nrepository permissions.  Gitblit provides a magiv ref which will allow\r\nticket participants to rewrite a ticket patchset as long as the ticket\r\nis open.\r\n\r\n    git push origin HEAD:refs/for/{id}\r\n\r\nPushing changes to this ref allows the patchset authors to rebase,\r\nsquash, or amend the patchset commits without requiring client-side use\r\nof the *--force* flag on push AND without requiring RW+ permission to\r\nthe repository.  Since each patchset is tracked with a ref it is easy to\r\nrecover from accidental non-fast-forward updates.\r\n\r\nFeatures\r\n--------\r\n\r\n- Ticket tracker with status changes and responsible assignments\r\n- Update/Rewrite patchset handling\r\n- Close-on-push detection\r\n- Server-side Merge button for simple merges\r\n- Comments with Markdown syntax support\r\n- Rich mail notifications\r\n- Voting\r\n- Mentions\r\n- Watch lists\r\n- Querying\r\n- Searches\r\n- Partial miletones support\r\n- Multiple backend options"}},{"date":"2014-01-28T04:33:36Z","author":"james","fields":{"body":"A basic ticket tracker styled as a hybrid of GitHub and BitBucket issues.\r\nYou may attach commits to an existing ticket or you can push a single\r\ncommit to create a *proposal* ticket.\r\n\r\nTickets keep track of patchsets (one or more commits) and allow patchset\r\nrewriting (rebase, amend, squash) by detecing non-fast-forward updates\r\nand assigning a new patchset number to those new commits.\r\n\r\nTicket tracker\r\n--------------\r\n\r\nThe ticket tracker stores tickets as an append-only journal of changes.\r\nThe journals are deserialized and a ticket is built by applying the\r\njournal entries.  Tickets are indexed using Apache Lucene and all queries\r\nand searches are executed against this Lucene index.\r\n\r\nThere is one trade-off to this persistence design: user attributions are\r\nnon-relational.\r\n\r\nWhat does that mean?  Each journal entry stores the username of the\r\nauthor.  If the username changes in the user service, the journal entry\r\nwill not reflect that change because the values are hard-coded.\r\n\r\nHere are a few reasons/justifications for this design choice:\r\n\r\n1. commit identifications (author, committer, tagger) are non-relational\r\n2. maintains the KISS principle\r\n3. your favorite text editor can still be your administration tool\r\n\r\nPersistence Choices\r\n-------------------\r\n\r\nFileTicketService\r\n: stores journals on the filesystem\r\n\r\nBranchTicketService\r\n: stores journals on an orphan branch in your repository\r\n\r\nRedisTicketService\r\n: stores journals in a Redis key-value datastore\r\n\r\nIt should be relatively straight-forward to develop other backends (MongoDB, etc)\r\nas long as the journal design is preserved.\r\n\r\nPushing Commits\r\n---------------\r\n\r\nEach push to a ticket is identified as a patchset revision.  A patchset\r\nrevision may add commits to the patchset (fast-forward) OR a patchset\r\nrevision may rewrite history (rebase, squash, rebase+squash, or amend).\r\nPatchset authors should not be afraid to polish, revise, and rewrite their\r\ncode before merging into the proposed branch.\r\n\r\nGitblit will create one ref for each patchset.  These refs are updated\r\nfor fast-forward pushes or created for rewrites.  They are formatted as:\r\n\r\n    refs/tickets/{shard}/{id}/{patchset}\r\n\r\nThe *shard*  is the last two digits of the id.  If the id \u003c 10, prefix a 0.  The\r\n*shard* is always two digits long.  It\u0027s purpose is to ensure Gitblit doesn\u0027t\r\nexceed any filesystem directory limits for file creation.\r\n\r\n**Creating a Proposal Ticket**\r\n\r\nYou may create a new change proposal ticket just by pushing a **single commit**\r\nto `refs/for/{branch}` where branch is the proposed integration branch OR\r\n`refs/for/new` which will use the default repository branch.\r\n\r\n    git push origin HEAD:refs/for/new\r\n\r\n**Updating a Patchset**\r\n\r\nThe safe way to update an existing patchset is to push to the patchset ref.\r\n\r\n    git push origin HEAD:refs/tickets/{shard}/{id}/{patchset}\r\n\r\nThis ensures you do not accidentally create a new patchset in the event that\r\nthe patchset was updated after you last pulled.\r\n\r\nThe not-so-safe way to update an existing patchset is to push using the magic ref.\r\n\r\n    git push origin HEAD:refs/for/{id}\r\n\r\nThis push ref will update an exisitng patchset OR create a new patchset if the\r\nupdate is non-fast-forward.\r\n\r\n**Rebasing, Squashing, Amending**\r\n\r\nGitblit makes rebasing, squashing, and amending patchsets easy.\r\n\r\nNormally, pushing a non-fast-forward update would require rewind (RW+)\r\nrepository permissions.  Gitblit provides a magiv ref which will allow\r\nticket participants to rewrite a ticket patchset as long as the ticket\r\nis open.\r\n\r\n    git push origin HEAD:refs/for/{id}\r\n\r\nPushing changes to this ref allows the patchset authors to rebase,\r\nsquash, or amend the patchset commits without requiring client-side use\r\nof the *--force* flag on push AND without requiring RW+ permission to\r\nthe repository.  Since each patchset is tracked with a ref it is easy to\r\nrecover from accidental non-fast-forward updates.\r\n\r\nFeatures\r\n--------\r\n\r\n- Ticket tracker with status changes and responsible assignments\r\n- Update/Rewrite patchset handling\r\n- Close-on-push detection\r\n- Server-side Merge button for simple merges\r\n- Comments with Markdown syntax support\r\n- Rich mail notifications\r\n- Voting\r\n- Mentions\r\n- Watch lists\r\n- Querying\r\n- Searches\r\n- Partial miletones support\r\n- Multiple backend options"}},{"date":"2014-02-03T04:27:52Z","author":"james","patchset":{"number":7,"rev":1,"tip":"13a4be91460a936cd0dadbee27e0918765fa3f14","base":"1219104d67774dd23b0dc64df596533336042c08","insertions":15470,"deletions":315,"commits":2,"added":1,"type":"Rebase"}},{"date":"2014-02-03T14:26:04Z","author":"james","fields":{"topic":"issue-215"},"patchset":{"number":7,"rev":2,"tip":"a9bb62d040bdb5903af08827927089f244daaf7b","parent":"13a4be91460a936cd0dadbee27e0918765fa3f14","base":"1219104d67774dd23b0dc64df596533336042c08","insertions":36,"deletions":18,"commits":7,"added":5,"type":"FastForward"}},{"date":"2014-02-03T14:28:18Z","author":"james","fields":{"title":"Ticket tracker with patchset contributions"}},{"date":"2014-02-03T18:23:23Z","author":"james","patchset":{"number":7,"rev":3,"tip":"58a4e12cf13c6f5222f328abcfd8fa946e6a35f1","parent":"a9bb62d040bdb5903af08827927089f244daaf7b","base":"1219104d67774dd23b0dc64df596533336042c08","insertions":188,"deletions":52,"commits":9,"added":2,"type":"FastForward"}},{"date":"2014-02-03T22:59:04Z","author":"james","patchset":{"number":7,"rev":4,"tip":"5d1b653d101b9043b029a533b033667fe2a92655","parent":"58a4e12cf13c6f5222f328abcfd8fa946e6a35f1","base":"1219104d67774dd23b0dc64df596533336042c08","insertions":96,"deletions":46,"commits":11,"added":2,"type":"FastForward"}},{"date":"2014-02-04T22:22:39Z","author":"james","patchset":{"number":7,"rev":5,"tip":"966e62e3a74c54604ad6adb4635e8dfcd12c0d00","parent":"5d1b653d101b9043b029a533b033667fe2a92655","base":"1219104d67774dd23b0dc64df596533336042c08","insertions":34,"deletions":26,"commits":12,"added":1,"type":"FastForward"}},{"date":"2014-02-06T14:19:13Z","author":"james","patchset":{"number":7,"rev":6,"tip":"e7e48cdb10dfab5487a6f4cb2c7a06ebe7143b2d","parent":"966e62e3a74c54604ad6adb4635e8dfcd12c0d00","base":"1219104d67774dd23b0dc64df596533336042c08","insertions":639,"deletions":175,"commits":16,"added":4,"type":"FastForward"}},{"date":"2014-02-06T14:24:55Z","author":"james","fields":{"reviewers":"+james"},"review":{"patchset":7,"rev":6,"score":1}},{"date":"2014-02-06T22:52:45Z","author":"james","patchset":{"number":7,"rev":7,"tip":"e3682dc857b0150d99c4cecb8bcb688c8a3acf07","parent":"e7e48cdb10dfab5487a6f4cb2c7a06ebe7143b2d","base":"1219104d67774dd23b0dc64df596533336042c08","insertions":31,"deletions":44,"commits":19,"added":3,"type":"FastForward"}},{"date":"2014-02-06T22:53:09Z","author":"james","review":{"patchset":7,"rev":7,"score":2}},{"date":"2014-02-07T12:54:59Z","author":"james","patchset":{"number":7,"rev":8,"tip":"ba121347f576be60ab98ec459616af769717321f","parent":"e3682dc857b0150d99c4cecb8bcb688c8a3acf07","base":"1219104d67774dd23b0dc64df596533336042c08","insertions":57,"deletions":25,"commits":21,"added":2,"type":"FastForward"}},{"date":"2014-02-07T13:55:39Z","author":"james","patchset":{"number":7,"rev":9,"tip":"c17fa37fd0fbaaffeaa6921e1d4460db510c8734","parent":"ba121347f576be60ab98ec459616af769717321f","base":"1219104d67774dd23b0dc64df596533336042c08","insertions":1,"deletions":0,"commits":22,"added":1,"type":"FastForward"}},{"date":"2014-02-18T15:37:51Z","author":"james","patchset":{"number":7,"rev":10,"tip":"9b8a48339708c9a76fc267a33e1ad490689da4ac","parent":"c17fa37fd0fbaaffeaa6921e1d4460db510c8734","base":"1219104d67774dd23b0dc64df596533336042c08","insertions":76,"deletions":24,"commits":25,"added":3,"type":"FastForward"}},{"date":"2014-02-20T02:17:42Z","author":"james","patchset":{"number":7,"rev":11,"tip":"ba57c411788193afb30a705bcdb9b8ceee5500e6","parent":"9b8a48339708c9a76fc267a33e1ad490689da4ac","base":"1219104d67774dd23b0dc64df596533336042c08","insertions":43,"deletions":10,"commits":26,"added":1,"type":"FastForward"}},{"date":"2014-02-20T02:25:20Z","author":"james","patchset":{"number":7,"rev":12,"tip":"0b0ab2069aa7c28f7450eb5b78fcf042868bd3b7","parent":"ba57c411788193afb30a705bcdb9b8ceee5500e6","base":"1219104d67774dd23b0dc64df596533336042c08","insertions":2,"deletions":34,"commits":27,"added":1,"type":"FastForward"}},{"date":"2014-02-20T02:34:23Z","author":"james","patchset":{"number":7,"rev":13,"tip":"afce3b61bc6366cd3665f5aede0bbaba317319bf","parent":"0b0ab2069aa7c28f7450eb5b78fcf042868bd3b7","base":"1219104d67774dd23b0dc64df596533336042c08","insertions":5,"deletions":4,"commits":29,"added":2,"type":"FastForward"}},{"date":"2014-02-21T00:56:42Z","author":"james","patchset":{"number":7,"rev":14,"tip":"31b0efade1a0266a624c98918b5fd96d72a632e2","parent":"afce3b61bc6366cd3665f5aede0bbaba317319bf","base":"1219104d67774dd23b0dc64df596533336042c08","insertions":12,"deletions":12,"commits":30,"added":1,"type":"FastForward"}},{"date":"2014-02-28T17:01:14Z","author":"james","patchset":{"number":8,"rev":1,"tip":"d795c651f4aa68795052297ec03c4fe8e614693d","base":"e8d111b13197e8f9174cfabcc820cdf36b58048f","insertions":17515,"deletions":1609,"commits":29,"added":0,"type":"Rebase_Squash"}},{"date":"2014-03-01T14:53:41Z","author":"james","patchset":{"number":9,"rev":1,"tip":"b7fe6ed037eb7fed04382698260c0ef180ae3e08","base":"1c2bff27ff37ec2add7c2badac46647fd92b71df","insertions":15473,"deletions":35,"commits":1,"added":0,"type":"Rebase_Squash"}}]