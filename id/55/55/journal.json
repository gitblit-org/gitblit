[{"date":"2014-05-02T13:56:48Z","author":"james","fields":{"title":"Consider HotFix support for git-flow","body":"When you are working with git-flow [1], there are times when you need to merge a hotfix into the stable branch and also into the active development branch.  It would be really convenient if there was consideration for this use-case in Gitblit.\n\nOne possibility is to implement an automatic, semantic-versioning-based merge mechanism as a plugin.  This would essentially be what Stash offers [2].\n\nAnother approach would be to create a *hotfix* ticket which allowed you to merge the patchset of a ticket into multiple target branches.  The *hotfix* ticket branch would be required to have a merge base in the stable branch - i.e. you could not hotfix the *develop* branch.  This may require teaching Gitblit more about the git-flow workflow.\n\n- [1] http://nvie.com/posts/a-successful-git-branching-model\n- [2] https://confluence.atlassian.com/display/STASH/Automatic+branch+merging","topic":"workflows","type":"Enhancement","responsible":"james","milestone":"v1.6.0","mergeTo":"develop","watchers":"+james","status":"New"}},{"date":"2014-05-29T17:20:27Z","author":"james","fields":{"title":"Make Git-flow simple with branches and tickets","body":"**Hotfix Tickets**\n\nWhen you are working with git-flow [1], there are times when you need to merge a hotfix into the stable branch and also into the active development branch.  It would be really convenient if there was consideration for this use-case in Gitblit.\n\nOne possibility is to implement an automatic, semantic-versioning-based merge mechanism as a plugin.  This would essentially be what Stash offers [2].\n\nAnother approach would be to create a *hotfix* ticket which allowed you to merge the patchset of a ticket into multiple target branches.  The *hotfix* ticket branch would be required to have a merge base in the stable branch - i.e. you could not hotfix the *develop* branch.  This may require teaching Gitblit more about the git-flow workflow.\n\n**Release branches from Milestones**\n\nAnother idea is to manage the release branch from creation, to merging \u0026 tagging based on a milestone.\n\n1. create milestone *v1.2.3*\n2. commit \u0026 merge several tickets to *develop* assigned to milestone *v1.2.3*\n3. create *release-v1.2.3* branch off of *develop* from the *v1.2.3* milestone\n4. commit \u0026 merge any new tickets to *release-v1.2.3*\n5. merge *release-v1.2.3* to *master* and tag as *v1.2.3*\n6. merge *release-v1.2.3* to *develop*\n7. delete *release-v1.2.3*\n\n\n- [1] http://nvie.com/posts/a-successful-git-branching-model\n- [2] https://confluence.atlassian.com/display/STASH/Automatic+branch+merging","topic":"git-flow","milestone":"v1.7.0"}},{"date":"2014-07-01T13:34:04Z","author":"sengaya","comment":{"text":"I have also difficulties when trying to merge a hotfix into the stable branch and also into the active development branch. \n\nWhat I would like to see is multiple patchsets for different branches in a single ticket. At the moment I can only reference a ticket, but not (additionally) a branch. E.g. I can only specify \"refs/for/{id}\", but not \"refs/for/{id}/{branch}\"\n\nI also could think of a \"cherry-pick-button\". It would try to cherry-pick a patchset (\u003d one or multiple commits) into another branch. An example:\n\n- master \u003d development branch\n- release-v1 \u003d stable branch v1\n1. Developer does a hotfix (patchset) in the development branch\n2. The owner of the repo (or whoever is responsible) can now verify it and merge it to the master branch\n3. With the new \"cherry-pick-button\" the owner can now cherry-pick the patchset into the release-v1 branch (or any other branch)\n 4. If it is not possible because of conflicts, I would like to be able to submit a rebased patchset for this branch (this is where you probably need \"refs/for/{id}/{branch}\")","id":"602c4593b2d0dc13f3f69fbe870009c0f8070b0b"},"fields":{"watchers":"+sengaya"}},{"date":"2014-07-01T14:19:53Z","author":"james","comment":{"text":"Interesting ideas.  *refs/for/{id}/{branch}* would really complicate everything about the Tickets design and break some clients \u0026 servers.  You can\u0027t have a target ref also be a namespace. To support your proposal, we would  have to start with *refs/for/{id}/{branch}*, not *refs/for/{id}*.  I don\u0027t think I\u0027ll investigate changing the branch design.\n\nClearly there are ways that Gitblit can facilitate git-flow.  The cherry-pick patchset idea is a good one, although I prefer an explicit merge over cherry-pick for a hotfix.\n\nI don\u0027t know that I will get to this ticket for the 1.7.0 release, #75 and #80 are my priority tickets right now. But this is an important ticket ( along with #105 ).\n\nThanks for the input.","id":"e9196ca81853601e82705f34be07dad2b082dd10"}},{"date":"2014-10-21T18:04:24Z","author":"james","fields":{"status":"Open","priority":"High"}}]